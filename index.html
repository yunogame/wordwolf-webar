
<!DOCTYPE html>
<html>
  <head>
    <title>WordWolf WebAR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image-aframe.prod.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #start-btn { position: absolute; top: 20px; left: 20px; z-index: 10; }
    </style>
  </head>
  <body>
    <button id="start-btn">お題を見る</button>

    <a-scene mindar-image="imageTargetSrc: ./mindar/marker.mind; autoStart: true;" embedded>
      <a-assets></a-assets>
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <a-entity mindar-image-target="targetIndex: 0">
        <a-entity id="word-display"
                  text="value: お題を表示; align: center; width: 3; color: white;"
                  position="0 0 0.1">
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      const words = [
        { citizen: "りんご", wolf: "バナナ" },
        { citizen: "サッカー", wolf: "ラグビー" },
        { citizen: "海", wolf: "川" },
        { citizen: "新幹線", wolf: "飛行機" }
      ];

      let selectedPair = words[Math.floor(Math.random() * words.length)];
      let isWolf = Math.random() < 0.25;

      const display = document.querySelector("#word-display");
      document.querySelector("#start-btn").addEventListener("click", () => {
        const myWord = isWolf ? selectedPair.wolf : selectedPair.citizen;
        display.setAttribute("text", `value: お題：${myWord}; align: center; width: 3; color: yellow`);
      });
    </script>
  </body>
</html>
